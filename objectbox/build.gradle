apply from: allGradle.libBase

android {
    sourceSets {
        main {
            java.srcDirs += 'src/objectbox/java'
        }
    }
//需要在APP工程配置[2.5.1]后支持.需要放在apply plugin: 'com.android.application'后
//    defaultConfig {
//        javaCompileOptions {
//            annotationProcessorOptions {
//                arguments = ["objectbox.incremental": "true"]
//            }
//        }
//    }
}

dependencies {
    implementation project(allModule.library)

    //https://jcenter.bintray.com/io/objectbox

    //https://docs.objectbox.io/getting-started
    //https://github.com/objectbox/objectbox-java
    //api "io.objectbox:objectbox-rxjava:$objectboxVersion"

    //kotlin 支持
    api "io.objectbox:objectbox-kotlin:$objectboxVersion"

    /*//数据库浏览 https://docs.objectbox.io/data-browser
    // 如果使用了浏览服务, 则在每个使用`apply plugin: 'io.objectbox'`的地方, 都需要用下面的3条语句
    debugImplementation "io.objectbox:objectbox-android-objectbrowser:$objectboxVersion"
    pretestImplementation "io.objectbox:objectbox-android-objectbrowser:$objectboxVersion"
    releaseImplementation "io.objectbox:objectbox-android:$objectboxVersion"

    //本地测试 https://docs.objectbox.io/android/android-local-unit-tests
//    // Required -- JUnit 4 framework
//    testImplementation 'junit:junit:4.12'
//    // Optional -- manually add native ObjectBox library to override auto-detection
//    testImplementation "io.objectbox:objectbox-linux:$objectboxVersion"
//    testImplementation "io.objectbox:objectbox-macos:$objectboxVersion"
//    testImplementation "io.objectbox:objectbox-windows:$objectboxVersion"*/
}

/*
apply plugin: 'kotlin-kapt'
apply plugin: 'io.objectbox' // Apply last.*/

apply from: allGradle.objectbox

